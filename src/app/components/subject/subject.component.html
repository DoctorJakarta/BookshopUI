<vdl-title-bar titleText="Subjects"></vdl-title-bar>

<vdl-panel *ngIf="subject && (pageType==PAGE_TYPE.NEW_SUBJECT || pageType==PAGE_TYPE.EDIT_SUBJECT)" class="smallForm">
    <vdl-form-field label="Parent Name" class="smallField">
        <input vdlInput type="text" [(ngModel)]="subject.parentName"/>
    </vdl-form-field>     
   <vdl-form-field label="Subject Name" class="smallField">
        <input vdlInput type="text" [(ngModel)]="subject.subjectName"/>
    </vdl-form-field>     
   <vdl-form-field label="Code" class="smallField">
        <input vdlInput type="text" [(ngModel)]="subject.code"/>
    </vdl-form-field>     

    <button vdl-primary-button (click)="upsertSubject(pageType==PAGE_TYPE.NEW_SUBJECT)">{{pageType==PAGE_TYPE.NEW_SUBJECT ? 'Create' : 'Update'}}</button>
    <button vdl-secondary-button (click)="deleteSubject(subject.id)">Delete</button>
    <button vdl-secondary-button (click)="listSubjects()">Cancel</button>
</vdl-panel>

<vdl-panel *ngIf="pageType==PAGE_TYPE.LIST_SUBJECTS">
    <button vdl-primary-button (click)='newSubject()'>New Subject</button>
    <table class="vdl-data-table material striped">
		<tr>
            <th colspan=2></th>
            <th>Parent Name</th>
            <th>Subject Name</th>
            <th>code</th>
        </tr>
		<tr  [ngClass]="{'data-table-row-odd':o}" *ngFor='let s of subjects; let o=odd;'>
            <td align=center>
                <button vdl-icon-button (click)="editSubject(s.id)">
                    <vdl-icon fontSet="fontawesome" fontIcon="fa-cog"></vdl-icon>
                </button>
            </td>
            <td align=center>
                <button vdl-icon-button (click)="deleteSubject(s.id)">
                    <vdl-icon fontSet="fontawesome" fontIcon="fa-trash"></vdl-icon>
                </button>
            </td>
			<td>{{s.parentName}}</td>
			<td>{{s.subjectName}}</td>
			<td>{{s.code}}</td>
      
        </tr>
	</table>
</vdl-panel>
